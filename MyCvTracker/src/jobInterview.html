<!DOCTYPE html>
<html>

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-52786419-3">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-52786419-3');
</script>
    <title>My CV Tracker - Eleven Plus Maths Game by Arshvir</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta
      name="keywords"
      content="top cv review, topcv review, free cv review,top resume reviews">

    <meta
      property="og:title"
      content="My CV Tracker - Eleven Plus Maths Game by Arshvir " />
    <meta
      property="og:description"
      content="Eleven Plus Spelling Game" />
    <meta
      property="og:image"
      content="https://mycvtracker.com/assets/img/front/logo.png" />

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous">
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="assets/img/homepage/favicon.ico"
      rel="shortcut icon" />


    <!-- build:css({.tmp/serve,src}) styles/vendor.css -->
    <!-- bower:css -->
    <!-- run `gulp inject` to automatically populate bower styles dependencies -->
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css({.tmp/serve,src}) styles/front.css -->
    <!-- inject:css -->
    <!-- css files will be automatically insert here -->
    <!-- endinject -->
    <!-- endbuild -->


    <!-- Hotjar Tracking Code for www.mycvtracker.com -->
    <script>
      (function (
        h,
        o,
        t,
        j,
        a,
        r
      ) {
        h.hj = h.hj || function () {
          (h.hj.q = h.hj.q || []).push(arguments);
        };
        h._hjSettings = {
          hjid : 1795044,
          hjsv : 6
        };
        a = o.getElementsByTagName("head")[0];
        r = o.createElement("script");
        r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
      })(window, document, "https://static.hotjar.com/c/hotjar-", ".js?sv=");
    </script>

  <!-- inserting these scripts at the end to be able to use all the elements in the DOM -->
  <script src="app/recorder.js"></script>
  <script src="app/interviewApp.js"></script>


  <script type="text/javascript">

    function loadInterviewPuzzle () {

       var tokenRefName = "token";
       var InterviewType = "interviewType";
        var token = null;
        var interview = null;

        var urlSearch = window.location.search;
        var urlParams = urlSearch ? urlSearch.substring(1)
          .split("&") : [];

         for (var i = 0, len = urlParams.length; i < len; i++) {
          var paramElement = urlParams[i].split("=");

          if (paramElement[0] === tokenRefName) {
            token = paramElement[1] === undefined ? true : decodeURIComponent(paramElement[1]);
          }
          if (paramElement[0] === InterviewType) {
            interview = paramElement[1] === undefined ? true : decodeURIComponent(paramElement[1]);
          }
        }

        document.getElementById("token").value = token;


        //clearQuizData();
        $.ajax({
            url :  "https://mycvtracker.com:8080/interviews/questions?token=" + token + "&interviewType=" + interview,
            type : "GET",
            contentType : "false", // tell jQuery not to set contentType
            success : function (data) {
              document.getElementById("quizdata").text = data;
              document.getElementById("interviewPuzzle").value = data[0].question;
              document.getElementById("currentQuestion").value = 0;
              document.getElementById("currentQuestionId").value = data[0].id;
              var loadQuiz =  document.getElementById("loadQuiz");
              loadQuiz.disabled = true;

              //toastr.success(alerts["sendEmailForGetInTouchForm"].message, "");
              //utility.clearContactForm();
            },
            error : function (err) {
              toastr.error(data.status, "Error");
             // utility.clearContactForm();
            }
          });

    }

    function clearQuizData() {

     for (let i =1 ; i <= 10; i++) {
          quizId = "interviewPuzzleAns" + i;
          document.getElementById(quizId).value = "";
     }

    }
    function nextQuestion() {

      let currentQuestion = document.getElementById("currentQuestion").value;
      document.getElementById("recordingsList").innerHTML = "";
      if(currentQuestion == 9)
      {
         var nextQuestion =  document.getElementById("nextQuestion");
         nextQuestion.disabled = true;

          var xhr=new XMLHttpRequest();
          xhr.onload=function(e) {
          if(this.readyState === 4) {
              console.log("Server returned: ",e.target.responseText);
          }
       }

      var fd=new FormData();
      fd.append("token",document.getElementById("token").value);
      xhr.open("POST","https://mycvtracker.com:8080/interviews/complete",true);
      xhr.send(fd);

      alert("Thanks for attempting your Interview. Our team will get in touch soon.");

      }else {
          currentQuestion = ++currentQuestion;
          var data = document.getElementById("quizdata").text;
          document.getElementById("interviewPuzzle").value = data[currentQuestion].question;
          document.getElementById("currentQuestionId").value = data[currentQuestion].id;
          document.getElementById("currentQuestion").value = currentQuestion;

         // loadInterviewPuzzle();
      }
    }

  </script>

  </head>

  <body id="job-spec-page">
    <script>
      window.fbAsyncInit = function () {
        FB.init({
          appId : "451567749326048",
          autoLogAppEvents : true,
          xfbml : true,
          version : "v9.0"
        });
      };
    </script>
    <script
      async
      defer
      crossorigin="anonymous"
      src="https://connect.facebook.net/en_US/sdk.js"></script>

    <!-- wrapper starts -->
    <!-- header starts -->
    <div id="loader"></div>
    <header>
      <div class="container">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-12">
            <div class="logo">
              <img
                src="assets/img/front/logo.png"
                alt="">
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-12 m-align">
            <ul class="upper-nav">
              <li>
                <a
                  target="_blank"
                  href="https://www.facebook.com/My-CV-Tracker-494026290989681/"><span><i
                  class="fab fa-facebook-f"></i></span>
                </a>
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://twitter.com/mycvtracker"><span><i
                  class="fab fa-twitter"></i></span>
                </a>
              </li>
              <li>
                <a href="">
                  <span><i class="fab fa-instagram"></i></span>
                </a>
              </li>
              <li>
                <a href="/login">Login</a>
              </li>
              <li>
                <a href="/register">
                  <span class="btn-style">Sign Up</span>
                </a>
              </li>
              <!--<li><a href="http://wp.mycvtracker.com"><span class="btn-style">Courses</span></a></li>-->
              <!-- <li><a href="/jobs"><span class="btn-style">Jobs</span></a></li> -->
            </ul>
          </div>
        </div>
      </div>
    </header>
    <!-- header ends -->

    <!-- services starts -->
    <div class="services">
      <div class="container">
        <div class="title">
          <h2 class="white-font">Press Load Question Button and Record your answer and upload to the server.</h2>
          <hr>
        </div>

          <div align="center">
            <form onSubmit={handleSubmit}>
              <input type="hidden" id="quizdata" />
              <input type="hidden" id="currentQuestion" />
              <input type="hidden" id="currentQuestionId" />
              <input type="hidden" id="token" />
              <input type="hidden" id="startTime" />
              <input type="hidden" id="endTime" />

              <textarea
                          readonly
                          rows="9"
                  onload="loadInterviewPuzzle()"
                  id="interviewPuzzle"
                  class="form-control"
                  placeholder="You got 30 seconds to answer each question.Press Load Quiz to start and you need to answer at least ten questions.You need to press Record button to record audio response.Once you stop recording you can upload your answer to Server."></textarea>


            </form>
          </div>

        <div align="center" id="controls">
          <button id="recordButton" class="btn btn-primary" onclick="startRecording()">Record</button>
          <button id="stopButton" class="btn btn-primary" onclick="stopRecording(document)" disabled>Stop</button>
        </div>
       <!-- <h3>Recordings</h3>

        <div id="formats">Format: start recording to see sample rate</div>-->
        <ol id="recordingsList"></ol>

          <br>
          <br>
          <div align="center">
            <input type="submit" class="btn btn-primary" id="loadQuiz" value="Load Quiz!" onClick="loadInterviewPuzzle()" />
            <input type="submit" class="btn btn-primary" id="nextQuestion" value="Next Question" onclick="nextQuestion()"/>
          </div>

        </div>

        <br>
        <br>
        <br>
      </div>
    </div>
    <!-- Services ends -->

    <!-- Query form -->

    <!-- Query form ends -->
    <!-- subscribe newsletter -->
    <div class="newsletter">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 offset-lg-2 col-md-8 offset-md-2 col-sm-12 col-12">
            <h3>Subscribe our Newsletter</h3>
            <div class="col-lg-12 col-md-12 col-12">
              <form>
                <input
                  type="email"
                  name=""
                  class="form-control"
                  placeholder="Enter your email address here....">
                <input
                  type="submit"
                  name=""
                  class="btn btn-primary submit">
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- subscribe newsletter ends -->

    <!-- footer starts -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-12">
            <img
              src="assets/img/front/logo.png"
              width="150px">
            <p></p>
            <a
              href="/terms.html"
              target="_blank">Terms & Conditions
            </a>
            <p>London, United Kingdom</p>
            <p class="copyright">Copyright My CV Tracker</p>
            <ul class="footer-social">
              <li>
                <a
                  target="_blank"
                  href="https://www.facebook.com/My-CV-Tracker-494026290989681/"><span><i
                  class="fab fa-facebook-f"></i></span>
                </a>
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://twitter.com/mycvtracker"><span><i
                  class="fab fa-twitter"></i></span>
                </a>
              </li>
              <li>
                <a href="">
                  <span><i class="fab fa-instagram"></i></span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- footer ends -->
    <!-- modals -->
    <div
      class="modal fade bs-example-modal-lg upload-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
      id="onload">

      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <h3>Step 1</h3>
            <h2>Select your CV file to upload</h2>
            <p>We accept word and pdf formats only.</p>
            <div class="img">
              <img src="assets/img/front/step-1.jpg">
            </div>
            <div class="next">
              <button
                class="btn btn-primary"
                id="next">Next Step
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- modal secong -->
    <div
      class="modal fade bs-example-modal-lg upload-modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
      id="onload2">

      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <h3>Step 2</h3>
            <h2>Please provide email for receiving keywords report on email.</h2>

            <div class="img">
              <form onload="hideDOMS();">
                <input
                  type="email"
                  id="eCVemail"
                  name="email"
                  class="form-control"
                  placeholder="Your email">
                <input
                  style="display: none"
                  type="text"
                  name="refrence"
                  id="CVinput"
                  class="form-control"
                  placeholder="Example LinkedIn, Project Manager, Apple etc.)">
                <span style="color: #9099ad;font-size: 12px;">(Max. file size upto 500KB)</span>
                <div class="input-group inputGroup">
								<span class="input-group-btn">
									<button
                    class="btn btn-default uploadBtn"
                    id="openFileExplorer"
                    type="button">
										Upload </button>
								</span>
                  <input
                    type="text"
                    id="nameHolder"
                    readonly
                    style="margin-bottom: 20px;"
                    class="form-control"
                    placeholder="Resume file">
                </div>
                <input
                  type="file"
                  accept=".doc,.docx,.pdf"
                  class=" form-control"
                  id="fileExplorer"
                  style="display: none;" />
                <div
                  class="errorStyle"
                  id="emailError"><strong>Error</strong> Email is
									required.</div>
                <div
                  class="errorStyle"
                  id="resumeRefError"><strong>Error</strong> Resume refrence is
									required.</div>
                <div
                  class="errorStyle"
                  id="sizeError"><strong>Error</strong> File size limit
									exceeded.</div>
                <div
                  class="errorStyle"
                  id="noFileError"><strong>Error</strong> Please upload a
									file.</div>
                <div
                  class="errorStyle"
                  id="fileExtError1"><strong>Error</strong> Please upload a PDF, Doc,
									 Docx file only</div>
                <input
                  type="checkbox"
                  id="checkbox1"
                  name="">

                <p class="check-box">By uploading my CV,I agree to the
                  <a
                    href="./terms.html"
                    target="_blank">Terms
                  </a>
                  of use and I Acknowledge I have
                  read the privacy
                  policy.
                </p>
              </form>
            </div>
            <div class="next">
              <button
                class="btn btn-primary"
                id="next2">Next Step
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>



    <div
      class="modal fade bs-example-modal-lg"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
      id="alertDialog">

      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <h3>Information</h3>
            <p>Please acknowledge that you agree to our terms and conditions.</p>
            <div class="img">
              <img src="assets/img/front/step-2.jpg">
            </div>

            <div class="next">
              <button
                class="btn btn-primary"
                id="closeDialog">Ok
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>



    <div
      class="modal fade bs-example-modal-lg"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
      id="social-share-modal">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <br />
            <h2>Social share</h2>
            <p>
              Referral link has been copied to clipboard. You can past the link into your social.
            </p>
            <br />
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade bs-example-modal-lg"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
      id="social-selection-modal">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <h2>Social share</h2>
            <p>
              Please select a channel to share
            </p>
            <br />
            <div class="social-btns">
              <div class="a-btn">
                <a
                  href="#"
                  class="btn btn-primary fb-btn">
                  <i class="fab fa-facebook-f"></i> Facebook
                </a>
              </div>
              <div class="a-btn">
                <a
                  href="#"
                  class="btn btn-primary tw-btn">
                  <i class="fab fa-twitter"></i> Twitter
                </a>
              </div>
              <div class="a-btn">
                <a
                  href="#"
                  class="btn btn-primary ld-btn">
                  <i class="fab fa-linkedin-in"></i> Linked
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- modal ends -->

    <!-- wrapper ends -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="https://rawgithub.com/CodeSeven/toastr/master/toastr.js"></script>


    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/simplemodal/1.4.4/jquery.simplemodal.min.js"></script> -->

    <!-- <script type="text/javascript" src="js/custom.js"></script> -->
    <script type="text/javascript">

      var refCode = null;
      var jobTitle = "";
      var isChecked = false;
      var alerts = {
        sendEmailForGetInTouchForm : {
          type : "success",
          message : "Your request has been sent, our team will contact you soon"
        }
      };

      var utility = {
        sendEmail : function (
          URL,
          type,
          data
        ) {
          $.ajax({
            url : URL,
            type : type,
            data : JSON.stringify(data),
            contentType : "application/json", // tell jQuery not to set contentType
            success : function (data) {
              toastr.success(alerts["sendEmailForGetInTouchForm"].message, "");
              utility.clearContactForm();
            },
            error : function (err) {
              toastr.error(data.status, "Error");
              utility.clearContactForm();
            }
          });
        },
        drawOnCanvas : function (file) {
          var reader = new FileReader();

          reader.onload = function (e) {
            var dataURL = e.target.result,
              c = document.querySelector("canvas"), // see Example 4
              ctx = c.getContext("2d"),
              img = new Image();

            img.onload = function () {
              c.width = img.width;
              c.height = img.height;
              ctx.drawImage(img, 0, 0);
            };

            img.src = dataURL;
          };

          reader.readAsDataURL(file);
        },
        displayAsImage : function (file) {
          var imgURL = URL.createObjectURL(file),
            img = document.createElement("img");

          img.onload = function () {
            URL.revokeObjectURL(imgURL);
          };

          img.src = imgURL;
          document.body.appendChild(img);
        },
        base64ToArrayBuffer : function (base64) {
          var binaryString = window.atob(base64);
          var binaryLen = binaryString.length;
          var bytes = new Uint8Array(binaryLen);
          for (var i = 0; i < binaryLen; i++) {
            var ascii = binaryString.charCodeAt(i);
            bytes[i] = ascii;
          }
          return bytes;
        },

        downloadFile : function (
          data,
          fileName,
          type
        ) {

          // Create an invisible A element
          const a = document.createElement("a");
          a.style.display = "none";
          document.body.appendChild(a);

          data = this.base64ToArrayBuffer(data);
          // Set the HREF to a Blob representation of the data to be downloaded
          a.href = window.URL.createObjectURL(
            new Blob([data], {
              type
            })
          );

          // Use download attribute to set set desired file name
          a.setAttribute("download", fileName);

          // Trigger the download by simulating click
          a.click();

          // Cleanup
          window.URL.revokeObjectURL(a.href);
          document.body.removeChild(a);
        },
        clearContactForm : function () {
          $("#sendToEmail")[0].value = "";
          $("#subject")[0].value = "";
          $("#fromName")[0].value = "";
          $("#mailContent")[0].value = "";
        },
        clearUploadData : function () {
          $("#eCVemail")[0].value = null;
          $("#fileExplorer")[0].value = null;
          ;
          $("#CVinput")[0].value = jobTitle;
          $("#nameHolder")[0].value = null;
        },
        checkEmailEmpty : function () {
          if ($("#eCVemail")[0].value == null || $("#eCVemail")[0].value == undefined || $("#eCVemail")[0].value == "") {
            return true;
          } else {
            return false;
          }
        },
        checkResumeRefEmpty : function () {
          if ($("#CVinput")[0].value == null || $("#CVinput")[0].value == undefined || $("#CVinput")[0].value == "") {
            return true;
          } else {
            return false;
          }
        },

        hideDOMS : function () {
          $("#sizeError")
            .hide();
          $("#emailError")
            .hide();
          $("#resumeRefError")
            .hide();
          $("#noFileError")
            .hide();
          $("#fileExtError1")
            .hide();

        }
      };

      $("#upfile1")
        .click(function () {
          $("#file1")
            .trigger("click");
        });

      $(".up-popup")
        .click(function () {
          $("#onload")
            .modal("show");
        });

      $(".generate-btn")
        .click(function () {
          $("#referral-bounty-modal").modal("show");
        });

      $("#referral-bounty-modal .btn-primary").click(function() {
        window.location.href = "/login?redirect=/referral?parentLink=" + refCode;
        // var token = localStorage.getItem("token");
        // if (!!token) {
        //   window.location.href = "/login?redirect=/referral?parentLink=" + refCode;
        // } else {
        //   $("#referral-bounty-modal")
        //     .modal("hide");
        //   setTimeout(function() {
        //     $("#referral-modal-auth")
        //       .modal("show");
        //   }, 500);
        // }
      });

      var socialWindow = null;
      $("#social-selection-modal .fb-btn")
        .click(function () {
          var currentUrl = window.location.href;
          FB.ui({
            method : "share",
            href : currentUrl
          }, function (response) {
          });
        });
      $("#social-selection-modal .tw-btn")
        .click(function () {
          var currentUrl = window.location.href;
          var url = "https://twitter.com/intent/tweet?text=" + currentUrl;

          var width = $(window)
            .width();
          var height = $(window)
            .height();
          var windowWidth = Math.round(width / 2);
          if (windowWidth < 300) windowWidth = 300;
          var windowHeight = Math.round(height / 3 * 2);

          window.open(url, "Twitter Share", "width=" + windowWidth + ",height=" + windowHeight);
        });
      $("#social-selection-modal .ld-btn")
        .click(function () {
          var currentUrl = window.location.href;
          var url = "https://www.linkedin.com/shareArticle?url=" + currentUrl;

          var width = $(window)
            .width();
          var height = $(window)
            .height();
          var windowWidth = Math.round(width / 2);
          if (windowWidth < 300) windowWidth = 300;
          var windowHeight = Math.round(height / 3 * 2);

          window.open(url, "Linkedin Share", "width=" + windowWidth + ",height=" + windowHeight);
        });

      $("#referral-modal-auth .btn-danger")
        .click(function () {
          $("#referral-modal-auth")
            .modal("hide");
          var fModal = $("#referral-modal-1");
          fModal.removeClass("success");
          fModal.val("");

          $("#referral-modal-1 .input-error")
            .removeClass("show");

          setTimeout(function () {
            $("#referral-modal-1")
              .modal("show");
          }, 500);
        });
      $("#referral-modal-auth .btn-primary")
        .click(function () {
          window.location.href = "/login?redirect=/referral?parentLink=" + refCode;

          $("#referral-modal-auth")
            .modal("hide");
        });
      $(".social-share-btn")
        .click(function () {
          $("#social-selection-modal")
            .modal("show");
        });

      $("#sendEmail")
        .click(function () {
          var fromEmailAddress = $("#sendToEmail")[0].value;
          var subject = $("#subject")[0].value;
          var fromName = $("#fromName")[0].value;
          var content = $("#mailContent")[0].value;
          var data = {
            "fromEmailAddress" : fromEmailAddress,
            "subject" : subject,
            "from" : fromName,
            "content" : content
          };
          utility.sendEmail("https://mycvtracker.com:8080/auth/contact", "POST", data);

        });

      $("#next")
        .click(function () {
          $("#onload")
            .modal("hide");
          utility.clearUploadData();
          var authInfoStr = localStorage.getItem("loggedInUser");
          if (!!authInfoStr) {
            var authInfo = JSON.parse(authInfoStr);
            var authEmail = authInfo.email;
            if (!!authEmail) {
              $("#eCVemail").val(authEmail);
            }
          }
          utility.hideDOMS();
          $("#onload2")
            .modal("show");
        });
      $("#next2")
        .click(function () {
          if (!$("#fileExplorer")[0].files[0]) {
            $("#noFileError")
              .show();
          }
          if ($("#fileExplorer")[0].files[0] && $("#fileExplorer")[0].files[0].size < 500000) {
            $("#onload2")
              .modal("hide");
          }
        });

      $("#fileExplorer")
        .change(function () {
          $("#nameHolder")[0].value = $("#fileExplorer")[0].files[0].name;
          var file = $("#fileExplorer")[0].files[0];
          if (file) {
            var validExts = [
              "application/pdf",
              "application/msword",
              "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
            ];
            var fileExt = file.type;
            if (validExts.indexOf(fileExt) < 0) {
              $("#fileExtError1")
                .show();
              $("#next2")
                .attr("disabled", true);
            } else {
              $("#fileExtError1")
                .hide();
              $("#next2")
                .attr("disabled", false);
            }
          }
        });

      $("#openFileExplorer")
        .click(function () {
          $("#fileExplorer")
            .trigger("click");
        });


      jQuery(function ($) {
        var holdCvResponse = null;
        var holdNameOfCV = null;
        var holdFileType = null;
        $("#loader")
          .hide();
        $("#closeSuccess")
          .click(function (event) {
            utility.clearUploadData();
            utility.hideDOMS();
            $("#loadSuccess")
              .modal("hide");
          });
        $("#downloadCV")
          .click(function (event) {
            utility.downloadFile(holdCvResponse, holdNameOfCV.split(".")[0], holdFileType);
          });
        $("#tryagain")
          .click(function (event) {
            $("#error")
              .modal("hide");
            $("#onload2")
              .modal("show");
          });
        $("#checkbox1")
          .click(function () {
            if ($(this)
              .prop("checked") == true) {
              isChecked = true;
            }
          });
        $("#next2")
          .click(function (event) {
            //make ajax and prepare request after validation
            var isValid = false;
            if ($("#checkbox1")
              .prop("checked") == false) {
              isChecked = false;
            }
            if (utility.checkEmailEmpty()) {
              $("#emailError")
                .show();
            } else {
              $("#emailError")
                .hide();
            }
            // if (utility.checkResumeRefEmpty()) {
            //   $("#resumeRefError")
            //     .show();
            // } else {
            //   $("#resumeRefError")
            //     .hide();
            // }
            var file = $("#fileExplorer")[0].files[0];

            if (!file) {
              $("#noFileError")
                .show();
            } else {
              $("#noFileError")
                .hide();
            }
            if (file && file.size > 500000) {
              $("#sizeError")
                .show();
            } else {
              $("#sizeError")
                .hide();
            }

            if (!isChecked) {
              if (file && file.size < 500000) {
                $("#alertDialog")
                  .modal("show");
              }
            }
            if (!utility.checkEmailEmpty() && file && file.size < 500000 && isChecked) {
              isValid = true;
            } else {
              isValid = false;
            }
            if (isValid && isChecked) {
              $("#loader")
                .show();
              var userEmail = $("#eCVemail")[0].value;
              var resumeTitle = "";
              // var resumeTitle = $("#CVinput")[0].value;
              var resumeType = "jobsmatch";
              holdNameOfCV = resumeTitle;


              var fd = new FormData();
              fd.append("file", file);
              fd.append("jobDescription", $("#job-spec-box1").val());

              $.ajax({
                url : "https://mycvtracker.com:8080/user/jobsMatch",
                type : "POST",
                data : fd,
                processData : false, // tell jQuery not to process the data
                contentType : false, // tell jQuery not to set contentType
                success : function (data) {

                  $("#div3").html('');
                  var div3Content = '<p>' + 'skill\t' + 'JobDescriptionCount\t' + 'resumeCount\t' +  '</p>';

                   div3Content += '<p>' + data[i].skill + '\t' + data[i].jobDescriptionCount + '\t' + data[i].resumeCount + '\t' + '</p>'; // if Name is property of your Person object

                 <!-- const scoreDiv = document.querySelector("div.div3") // Find the scoreboard div in our html
                  let tableHeaders = ["skill", "JobDescriptionCount", "resumeCount"]
                  const createScoreboardTable = () => {
                  while (scoreDiv.firstChild) scoreDiv.removeChild(scoreDiv.firstChild) // Remove all children from scoreboard div (if any)
                  let scoreboardTable = document.createElement('table') // Create the table itself
                  scoreboardTable.className = 'table table-hover'
                  let scoreboardTableHead = document.createElement('thead') // Creates the table header group element
                  scoreboardTableHead.className = 'scoreboardTableHead'
                  let scoreboardTableHeaderRow = document.createElement('tr') // Creates the row that will contain the headers
                  scoreboardTableHeaderRow.className = 'scoreboardTableHeaderRow'
                  // Will iterate over all the strings in the tableHeader array and will append the header cells to the table header row
                  tableHeaders.forEach(header => {
                    let scoreHeader = document.createElement('th') // Creates the current header cell during a specific iteration
                    scoreHeader.innerText = header
                    scoreboardTableHeaderRow.append(scoreHeader) // Appends the current header cell to the header row
                  })
                  scoreboardTableHead.append(scoreboardTableHeaderRow) // Appends the header row to the table header group element
                  scoreboardTable.append(scoreboardTableHead)
                  let scoreboardTableBody = document.createElement('tbody') // Creates the table body group element
                  scoreboardTableBody.className = "scoreboardTable-Body"
                  scoreboardTable.append(scoreboardTableBody) // Appends the table body group element to the table
                  scoreDiv.append(scoreboardTable) // Appends the table to the scoreboard div
                  }
                  // The function below will accept a single score and its index to create the global ranking
                  const appendScores = (singleScore, singleScoreIndex) => {
                  const scoreboardTable = document.querySelector('.scoreboardTable') // Find the table we created
                  let scoreboardTableBodyRow = document.createElement('tr') // Create the current table row
                  scoreboardTableBodyRow.className = 'scoreboardTableBodyRow'

                  let scoreRanking = document.createElement('td')
                  scoreRanking.innerText = singleScoreIndex
                  let usernameData = document.createElement('td')
                  usernameData.innerText = singleScore.user.username
                  let scoreData = document.createElement('td')
                  scoreData.innerText = singleScore.score
                  let timeData = document.createElement('td')
                  timeData.innerText = singleScore.time_alive
                  let accuracyData = document.createElement('td')
                  accuracyData.innerText = singleScore.accuracy

                  scoreboardTableBodyRow.append(scoreRanking, usernameData, scoreData, timeData, accuracyData) // Append all 5 cells to the table row
                    scoreboardTable.append(scoreboardTableBodyRow) // Append the current row to the scoreboard table body
                  }
                  const getScores = () => {
                  fetch('https://mycvtracker.com/scores') // Fetch for all scores. The response is an array of objects that is sorted in decreasing order
                  .then(res => res.json())
                  .then(scores => {
                  createScoreboardTable() // Clears scoreboard div if it has any children nodes, creates & appends the table
                  // Iterates through all the objects in the scores array and appends each one to the table body
                  for (const score of scores) {
                  let scoreIndex = scores.indexOf(score) + 1 // Index of score in score array for global ranking (these are already sorted in the back-end)
                  appendScores(score, scoreIndex) // Creates and appends each row to the table body
                  }
                  })-->
                  //}
                   $("#div3").append(div3Content);
                   alert(div3Content);

                  }


                  $("#loader")
                    .hide();
                  $("#onload2")
                    .modal("hide");
                  $("#loadSuccess")
                    .modal("show");

                  utility.clearUploadData();
                },
                error : function (err) {
                  $("#loader")
                    .hide();
                  $("#onload2")
                    .modal("hide");
                  $("#error")
                    .modal("show");
                  utility.clearUploadData();
                }
              });
            }

          });
        $("#closeDialog")
          .click(function (e) {
            $("#alertDialog")
              .modal("hide");
            isChecked = false;
            $("#onload2")
              .modal("show");
          });
        $("#basic-modal .basic")
          .click(function (e) {
            $("#basic-modal-content")
              .modal();

            return false;
          });
        $("#referral-modal-1 .sharing-referral-btn")
          .click(function () {
            var email = $("#share-referral-email")
              .val();
            var EMAIL_REGEX = /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;

            if (!email || !EMAIL_REGEX.test(email)) {
              $(".referral-email-error")
                .addClass("show");
            } else {
              $(".referral-email-error")
                .removeClass("show");

              $(this)
                .html("Generating...");

              $.ajax({
                url : "https://mycvtracker.com:8080/links/shareOutsideReferral",
                type : "POST",
                data : JSON.stringify({
                  referralLink : refCode,
                  userEmail : email
                }),
                dataType : "json",
                contentType : "application/json",
                success : function (data) {
                  $("#referral-modal-1")
                    .addClass("success");
                  $("#referral-modal-1 .ref-link")
                    .html("https://mycvtracker.com/job-spec.html?ref=" + data.referralLink+ "&title=" + data.referralTargetSubject);

                  $(this)
                    .html("Generate");
                }
              });
            }
          });

        var urlSearch = window.location.search;
        var urlParams = urlSearch ? urlSearch.substring(1)
          .split("&") : [];
        for (
          var i = 0,
            len = urlParams.length; i < len; i++
        ) {
          var paramElement = urlParams[i].split("=");

          if (paramElement[0] === "ref") {
            refCode = paramElement[1] === undefined ? true : decodeURIComponent(paramElement[1]);
          }
        }

        if (!!refCode) {
          // load job spec
          $.ajax({
            url : "https://mycvtracker.com:8080/links/referralDetails?referralLink=" + refCode,
            type : "GET",
            dataType : "json",
            contentType : "application/json",
            success : function (data) {
              jobTitle = data.referralTargetSubject;
              $("#job-spec-box .job-title")
                .html(jobTitle);
              $("#job-spec-box .job-detail")
                .html(data.referralDetails);

              var previewType = data.previewType;
              if (previewType !== "NONE") {
                var pdfViewerHeight = window.innerHeight - 100;
                $("#profile-preview-step")
                  .addClass("active");

                var previewHtml = "";
                if (previewType === "WEB_PAGE_URL") {
                  var previewLink = data.previewLink;
                  previewHtml = "<iframe src='" + previewLink + "' width='100%' height='" + pdfViewerHeight + "'></iframe>";
                  // setTimeout(function () {
                  //   $("#text-link-preview").html()
                  // }, 200);
                } else {
                  var fileLink = "https://mycvtracker.com:8080/links/ref-profile-preview/" + data.previewFileName + "?referralLink=" + refCode;
                  var fileType = data.previewFileType;
                  if (fileType === "application/pdf") {
                    var iframeUrl = "https://mycvtracker.com/pdf-viewer.html?pdf=" + fileLink;
                    previewHtml = "<iframe src='" + iframeUrl + "' width='100%' height='" + pdfViewerHeight + "'></iframe>";
                  } else {
                    previewHtml = "<img src='" + fileLink + "' style='width: 100%; height: auto' />";
                  }
                }

                setTimeout(function () {
                  $("#text-link-preview")
                    .html(previewHtml);
                }, 200);
              }

              if (!data.bountyEnable) {
                $("#job-spec-container .generate-btn").addClass("deactive");
              }
              setTimeout(function() {
                $("#job-spec-box .job-detail a").attr("target", "_blank");
              }, 300);
            }
          });
        }
      });

      $(function () {
        function getCookie(cname) {
          var name = cname + "=";
          var decodedCookie = decodeURIComponent(document.cookie);
          var ca = decodedCookie.split(";");
          for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == " ") {
              c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
              return c.substring(name.length, c.length);
            }
          }
          return "";
        }

        function setCookie(
          cname,
          cvalue,
          exdays
        ) {
          var d = new Date();
          d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
          var expires = "expires=" + d.toUTCString();
          document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        var cookieAcc = getCookie("cookieAcc");

        $( "body" ).append( "<div id=\"cookie-confirm-popup\"><div class=\"confirm-container\"><div class=\"container\"> This site uses cookies. <a href=\"/terms.html\">Find out more.</a> <button class=\"btn btn-primary\">Okay, thank you</button></div></div></div>" );
        if (cookieAcc !== "1") {
          $("#cookie-confirm-popup").addClass("active");
        }

        $("#cookie-confirm-popup .btn-primary").on("click", function() {
          setCookie("cookieAcc", "1", 7);
          $("#cookie-confirm-popup").removeClass("active");
        });
      });
    </script>

    <script>
      (function (
        i,
        s,
        o,
        g,
        r,
        a,
        m
      ) {
        i["GoogleAnalyticsObject"] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments);
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(window, document, "script", "//www.google-analytics.com/analytics.js", "ga");

      ga("create", "UA-52786419-3", "auto");
      ga("send", "pageview");
    </script>
  </body>
</html>
